# Mac λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ κ°μ§€ λ¬Έμ  ν•΄κ²° μ‹λ„ λ¬Έμ„ν™”

## λ¬Έμ  μƒν™©

Macμ—μ„ Tauri μ•± μ‹¤ν–‰ μ‹ Network Interfaces λ©λ΅μ— `0.0.0.0`λ§ ν‘μ‹λκ³  μ‹¤μ  λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤(μ: Wi-Fi, μ΄λ”λ„·, VPN λ“±)μ IP μ£Όμ†λ“¤μ΄ κ°μ§€λμ§€ μ•λ” λ¬Έμ 

## ν•΄κ²° μ‹λ„ λ‚΄μ—­

### 1. μ΄κΈ° μ ‘κ·Ό (2025λ…„ 1μ›” 4μΌ)

- **λ¬Έμ **: κΈ°μ΅΄ μ½”λ“λ” `ifconfig -a` λ…λ Ήμ–΄λ¥Ό λ³µμ΅ν• νμ‹± λ΅μ§μΌλ΅ μ²λ¦¬
- **μ ‘κ·Ό**: macOS μ „μ© λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ κ°μ§€ λ΅μ§ κµ¬ν„
- **μ½”λ“ μ„μΉ**: `gui/src-tauri/src/lib.rs` - `list_network_interfaces_internal()` ν•¨μ

### 2. μ²« λ²μ§Έ κ°μ„  μ‹λ„

**λ°©λ²•**: `ifconfig` λ…λ Ήμ–΄ μ§μ ‘ μ‚¬μ© + νμ‹± λ΅μ§ κ°μ„ 

```rust
// λ³€κ²½ μ „: sh -c "ifconfig -a" (λ³µμ΅ν• νμ‹±)
// λ³€κ²½ ν›„: ifconfig μ§μ ‘ νΈμ¶ + ν–¥μƒλ νμ‹± λ΅μ§
```

**νΉμ§•**:

- μΈν„°νμ΄μ¤ μ΄λ¦„ κ°μ§€ λ΅μ§ κ°μ„  (`:`μΌλ΅ λλ‚λ” μ¤„)
- IP μ£Όμ† νμ‹± λ΅μ§ κ°μ„  (`inet `λ΅ μ‹μ‘ν•λ” μ¤„)
- μ¤‘λ³µ IP λ°©μ§€ λ΅μ§ μ¶”κ°€
- VPN μΈν„°νμ΄μ¤ κ°μ§€ (`utun0`, `tun0` λ“± ν¨ν„΄)

### 3. λ‘ λ²μ§Έ κ°μ„  μ‹λ„ - PATH μ„¤μ • μ¶”κ°€

**λ¬Έμ  λ°κ²¬**: Tauri μƒλ“λ°•μ¤ ν™κ²½μ—μ„ Docker λ…λ Ήμ–΄ μ‹¤ν–‰ μ ν•
**ν•΄κ²°**: `run_command` ν•¨μμ— macOSμ© PATH μ„¤μ • μ¶”κ°€

```rust
#[cfg(target_os = "macos")]
{
    command.env("PATH", "/usr/local/bin:/opt/homebrew/bin:/usr/bin:/bin");
}
```

### 4. μ„Έ λ²μ§Έ κ°μ„  μ‹λ„ - λ‹¤μ¤‘ κ°μ§€ λ°©λ²•

**μ ‘κ·Ό**: `ifconfig` + `networksetup` λ³‘ν–‰ μ‚¬μ©

```rust
// 1. ifconfigλ΅ λ¨λ“  μΈν„°νμ΄μ¤ μ¤μΊ”
// 2. networksetupλ΅ μ„λΉ„μ¤λ³„ IP ν™•μΈ (λ³΄μ΅°)
```

**μ¥μ **:

- `ifconfig`: μ €μμ¤€ μΈν„°νμ΄μ¤ μ •λ³΄
- `networksetup`: κ³ μμ¤€ λ„¤νΈμ›ν¬ μ„λΉ„μ¤ μ •λ³΄
- μƒνΈ λ³΄μ™„μ  μ ‘κ·Ό

### 5. λ„¤ λ²μ§Έ κ°μ„  μ‹λ„ - Rust ν‘μ¤€ λΌμ΄λΈλ¬λ¦¬ ν™μ©

**μ‹λ„**: `nix` ν¬λ μ΄νΈ μ‚¬μ© (`ifaddrs` feature)

```rust
if let Ok(interfaces_list) = nix::ifaddrs::getifaddrs() {
    // μ‹μ¤ν… νΈμ¶μ„ ν†µν• μ§μ ‘ μΈν„°νμ΄μ¤ κ°μ§€
}
```

**κ²°κ³Ό**: `nix` ν¬λ μ΄νΈμ— `ifaddrs` featureκ°€ μ—†μ–΄μ„ μ‹¤ν¨

### 6. μµμΆ… κ°μ„  μ‹λ„ - ifconfig νμ‹± μµμ ν™”

**ν„μ¬ μ μ©λ λ°©λ²•**:

```rust
#[cfg(target_os = "macos")]
{
    // ifconfig κΈ°λ° νμ‹± + networksetup λ³΄μ΅°
    // IPv4 μ£Όμ† ν•„ν„°λ§ κ°•ν™”
    // μΈν„°νμ΄μ¤ μ΄λ¦„ κ°μ§€ μ •ν™•λ„ κ°μ„ 
}
```

## κΈ°μ μ  μ„Έλ¶€μ‚¬ν•­

### μΈν„°νμ΄μ¤ κ°μ§€ λ΅μ§

1. **μΈν„°νμ΄μ¤ μ΄λ¦„ κ°μ§€**: `:`μΌλ΅ λλ‚κ³  λ“¤μ—¬μ“°κΈ° μ—†λ” μ¤„
2. **IP μ£Όμ† κ°μ§€**: `inet `λ΅ μ‹μ‘ν•λ” μ¤„
3. **ν•„ν„°λ§ κ·μΉ™**:
   - `127.x.x.x` (loopback) μ μ™Έ
   - `169.254.x.x` (link-local) μ μ™Έ
   - `0.0.0.0` μ μ™Έ
   - IPv4 μ£Όμ†λ§ ν¬ν•¨ (`.` ν¬ν•¨ ν™•μΈ)

### VPN μΈν„°νμ΄μ¤ ν¨ν„΄

```rust
let vpn_patterns = [
    "zerotier", "tailscale", "wireguard", "wg0", "wg1",
    "tun", "tap", "vpn", "hamachi", "radmin"
];
```

## ν„μ¬ μƒνƒ

- β… Docker μ—°κ²°: PATH μ„¤μ •μΌλ΅ ν•΄κ²°
- β λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ κ°μ§€: μ—¬μ „ν `0.0.0.0`λ§ ν‘μ‹
- π”„ κ°λ° μ§„ν–‰ μ¤‘

## λ‹¤μ λ‹¨κ³„ μ μ•

1. **μ™Έλ¶€ ν”„λ΅μ„Έμ¤ μ ‘κ·Ό**: Tauriμ shell plugin ν™μ© κ²€ν† 
2. **λ„¤μ΄ν‹°λΈ λ¨λ“**: Node.jsμ `os.networkInterfaces()` ν™μ©
3. **μ‹μ¤ν… κ¶ν•**: Mac λ³΄μ• μ„¤μ • κ²€ν†  (μ „μ²΄ λ””μ¤ν¬ μ ‘κ·Ό λ“±)

## μ°Έκ³  μλ£

- macOS `ifconfig` μ¶λ ¥ ν•μ‹
- `networksetup` λ…λ Ήμ–΄ μµμ…
- Tauri μƒλ“λ°•μ¤ ν™κ²½ μ ν•μ‚¬ν•­
- Rust μ‹μ¤ν… ν”„λ΅κ·Έλλ° ν¨ν„΄
